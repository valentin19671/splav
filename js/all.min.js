jQuery(function(x){"use strict";var a,i,m=[],s=[],e=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i);if("function"!=typeof t){var k,I,t,_,T,o,n=window.addEventListener;(t=function(e){k=window.innerWidth,I=window.innerHeight,x(window).scrollTop(),_=x(document).height(),T=x("html"),o=x(window).scrollTop(),o,e&&(n("load",e,!0),n("resize",e,!0))})(function(){t()})}t(function(){x(".project-detail-parallax").length&&(x("html").css({}),x("body").css({}))}),u(".s-loader-switch"),x(window).on("load",function(){x("body").addClass("loaded").find(".prague-loader").addClass("is-loaded"),f(),x(".modern-slider-wrap").length&&setTimeout(function(){x(document).trigger("resize")},0),g(),v(),function(){if(x(".full_showcase_slider").length)var f={"data-lg-slides":"1600","data-md-slides":"1300","data-sm-slides":"992","data-xs-slides":"768"};else var f={"data-lg-slides":"1200","data-md-slides":"992","data-sm-slides":"768","data-xs-slides":"599"};function g(s,e){var n={};return x.each(e,function(e,t){var a,i;s.attr(e)&&(n[t]=(a=s.attr(e),i=a.split(","),{slidesPerView:parseInt(i[0],10),spaceBetween:parseInt(i[1],10)}))}),n}x(".swiper-container").each(function(e){var s=x(this),t="swiper-unique-id-"+e;s.addClass(t+" initialized").attr("id",t),s.find(".swiper-pagination").addClass("pagination-"+t),s.find(".swiper-slide").length<=1&&x('.slider-click[data-pagination-rel="'+s.data("pagination-rel")+'"]').addClass("disabled");var a=parseInt(s.attr("data-speed"),10),i=parseInt(s.attr("data-loop"),10),n=s.attr("data-pagination-type")?s.attr("data-pagination-type"):"bullets",r=parseInt(s.attr("data-autoplay"),10),o=parseInt(s.attr("data-autoheight"),10),l=!x.isNumeric(s.attr("data-center"))||parseInt(s.attr("data-center"),10),d=s.attr("data-effect"),c=s.attr("data-mode"),p=parseInt(s.attr("data-slides-per-view"),10),u=parseInt(s.attr("data-space-between"),10),h=!x.isNumeric(s.attr("data-mouse"))||parseInt(s.attr("data-mouse"),10);isNaN(p)&&(p="auto"),m[t]=new Swiper("."+t,{pagination:".pagination-"+t,paginationType:n,paginationClickable:!0,keyboardControl:!0,simulateTouch:!0,roundLengths:!0,autoplayDisableOnInteraction:!1,grabCursor:!1,watchSlidesProgress:!0,speed:a,loop:i,noSwiping:h,autoplay:r,autoHeight:o,centeredSlides:l,mousewheelControl:!0,effect:d||"slide",direction:c||"horizontal",slidesPerView:p,spaceBetween:u||0,paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",breakpoints:g(s,f),onInit:function(e){var t=x(".swiper-slide:not(.swiper-slide-duplicate)").length;x(".banner-slider-wrap.andra").length&&t<10&&x(".banner-slider-wrap.andra").find(".pag-wrapper").addClass("total-less10 current-less10")},onSlideChangeEnd:function(e){var t,a,i;s.find(x(".swiper-slide:not(.swiper-slide-duplicate)")).length;x(".projects-list-slider").length&&(t=activeIndex,a=e.slides.length,i=e,t==a-1?x(window).bind("mousewheel",function(e){0<=e.originalEvent.wheelDelta?i.enableMousewheelControl():i.disableMousewheelControl()}):0==t&&x(window).bind("mousewheel",function(e){0<=e.originalEvent.wheelDelta?i.disableMousewheelControl():i.enableMousewheelControl()}))},onSlideChangeStart:function(e){var t=1==i?e.realIndex:e.activeIndex;s.parent().find(".swiper-pagination-bullet").length&&s.parent().find(".swiper-pagination-bullet").removeClass("swiper-pagination-bullet-active").eq(t).addClass("swiper-pagination-bullet-active")},onSlideClick:function(e){},paginationBulletRender:function(e,t,a){if(x(".testimonials-swiper").length){var i=e.activeIndex+t,s=x(e.slides[i]).find(".testimonials-author").html()||"Guest";return'<span class="'+a+'">'+s+"</span>"}}}),m[t].update()})}(),function(){var e=".prague_services, .prague_books, .prague_media, .prague_exhibition_grid, .prague_grid";if(x(e).length){var t=x(e);t.find(".portfolio-item-wrapp");a=t.isotope({itemSelector:".portfolio-item-wrapp",layoutMode:"fitRows"})}}(),function(){var e=".prague_masonry";if(x(e).length){var t=x(e);t.find(".portfolio-item-wrapp");i=t.isotope({itemSelector:".portfolio-item-wrapp",percentPosition:!0})}}(),function(){var e=".prague_timeline_list";if(x(e).length){var t=x(e);t.isotope({getSortData:{first:".cat1",title:".time-list-item-title a",third:".cat3",fourth:".cat4"}})}}(),x(".prague-svg").each(function(e){var t=x(this),a="my-svg"+e;t.addClass(a).attr("id",a),s[a]=new Vivus(a,{duration:300})}),function(){var e=x(".project-detail-main-slider"),t=x(".project-detail-thumb-slider");if(e.length){var a=parseInt(e.attr("data-key"),10),i=parseInt(e.attr("data-arrows"),10),s=parseInt(e.attr("data-autoplay"),10),n=parseInt(e.attr("data-autoplay-speed"),10),r=parseInt(e.attr("data-speed"),10),o=parseInt(e.attr("data-width"),10),l=parseInt(e.attr("data-fade"),10),d=e.attr("data-for"),c=parseInt(e.attr("data-focus"),10),p=parseInt(e.attr("data-slides"),10),u=parseInt(e.attr("data-vertical"),10),h=parseInt(e.attr("data-vertical-swiping"),10);e.slick({dots:!1,slidesToScroll:1,infinite:!0,centerMode:!1,prevArrow:'<a href="#" class="slick-prev"></a>',nextArrow:'<a href="#" class="slick-next"></a>',cssEase:"linear",slidesToShow:p,accessibility:!!a,arrows:!!i,autoplay:!!s,autoplaySpeed:n,speed:r,variableWidth:!!o,fade:!!l,asNavFor:d,focusOnSelect:!!c,vertical:!!u,verticalSwiping:!!h})}if(t.length){var a=parseInt(t.attr("data-key"),10),i=parseInt(t.attr("data-arrows"),10),s=parseInt(t.attr("data-autoplay"),10),n=parseInt(t.attr("data-autoplay-speed"),10),r=parseInt(t.attr("data-speed"),10),o=parseInt(t.attr("data-width"),10),l=parseInt(t.attr("data-fade"),10),d=t.attr("data-for"),c=parseInt(t.attr("data-focus"),10),p=parseInt(t.attr("data-slides"),10),u=parseInt(t.attr("data-vertical"),10),h=parseInt(t.attr("data-vertical-swiping"),10);t.slick({dots:!1,slidesToScroll:1,infinite:!0,centerMode:!1,prevArrow:'<a href="#" class="slick-prev"></a>',nextArrow:'<a href="#" class="slick-next"></a>',cssEase:"linear",slidesToShow:p,accessibility:!!a,arrows:!!i,autoplay:!!s,autoplaySpeed:n,speed:r,variableWidth:!!o,fade:!!l,asNavFor:d,focusOnSelect:!!c,vertical:!!u,verticalSwiping:!!h,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1,vertical:!1,verticalSwiping:!1}}]})}}(),function(){var e=x(".project-detail-full-main"),t=x(".project-detail-full-thumb");if(e.length){var a=parseInt(e.attr("data-key"),10),i=parseInt(e.attr("data-arrows"),10),s=parseInt(e.attr("data-autoplay"),10),n=parseInt(e.attr("data-autoplay-speed"),10),r=parseInt(e.attr("data-speed"),10),o=parseInt(e.attr("data-width"),10),l=parseInt(e.attr("data-fade"),10),d=e.attr("data-for"),c=parseInt(e.attr("data-focus"),10),p=parseInt(e.attr("data-slides"),10),u=parseInt(e.attr("data-vertical"),10),h=parseInt(e.attr("data-vertical-swiping"),10);e.slick({dots:!1,slidesToScroll:1,infinite:!0,centerMode:!1,prevArrow:'<a href="#" class="slick-prev"></a>',nextArrow:'<a href="#" class="slick-next"></a>',cssEase:"linear",slidesToShow:p,accessibility:!!a,arrows:!!i,autoplay:!!s,autoplaySpeed:n,speed:r,variableWidth:!!o,fade:!!l,asNavFor:d,focusOnSelect:!!c,vertical:!!u,verticalSwiping:!!h})}if(t.length){var a=parseInt(t.attr("data-key"),10),i=parseInt(t.attr("data-arrows"),10),s=parseInt(t.attr("data-autoplay"),10),n=parseInt(t.attr("data-autoplay-speed"),10),r=parseInt(t.attr("data-speed"),10),o=parseInt(t.attr("data-width"),10),l=parseInt(t.attr("data-fade"),10),d=t.attr("data-for"),c=parseInt(t.attr("data-focus"),10),p=parseInt(t.attr("data-slides"),10),u=parseInt(t.attr("data-vertical"),10),h=parseInt(t.attr("data-vertical-swiping"),10);t.slick({dots:!1,slidesToScroll:1,infinite:!0,centerMode:!1,prevArrow:'<a href="#" class="slick-prev"></a>',nextArrow:'<a href="#" class="slick-next"></a>',cssEase:"linear",slidesToShow:p,accessibility:!!a,arrows:!!i,autoplay:!!s,autoplaySpeed:n,speed:r,variableWidth:!!o,fade:!!l,asNavFor:d,focusOnSelect:!!c,vertical:!!u,verticalSwiping:!!h,responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:1,vertical:!1,verticalSwiping:!1}}]})}}(),x(".ba-slider").length&&x(".ba-slider").beforeAfter(),x(".filmstrip-slider").each(function(e){var t=x(this),a="slick-unique-id-"+e;t.addClass(a+" initialized").attr("id",a);var i=parseInt(t.attr("data-key"),10),s=parseInt(t.attr("data-arrows"),10),n=parseInt(t.attr("data-autoplay"),10),r=parseInt(t.attr("data-autoplay-speed"),10),o=parseInt(t.attr("data-speed"),10);t.slick({dots:!1,slidesToScroll:1,variableWidth:!0,infinite:!1,centerMode:!1,prevArrow:'<a href="#" class="slick-prev"></a>',nextArrow:'<a href="#" class="slick-next"></a>',accessibility:!!i,arrows:!!s,autoplay:!!n,autoplaySpeed:r,speed:o}),setTimeout(function(){t[e].slick.refresh()},0)}),h(),x(window).trigger("resize",function(){x(window)})}),x(window).on("resize",function(){x(".filmstrip-slider").each(function(e){var t=x(this);setTimeout(function(){t[e].slick.refresh()},0)}),v(),h()}),x(window).on("scroll",function(){x(window).scrollTop(),o=x(window).scrollTop(),o,M.update(),f(),g(),50<=x(this).scrollTop()?x("header").addClass("scroll"):x("header").removeClass("scroll")}),x(".prague-social-nav > a").on("click",function(e){x(this);var t=x(this).parent(".prague-social-nav"),a=x(t).find(".social-content");0<x(a).length&&"none"===x(a).css("display")?x(a).show(300):x(a).hide(300),e.preventDefault()}),x(".prague-nav-menu-icon a").on("click",function(e){x(".prague-nav-menu-icon").toggleClass("active"),x(".prague-navigation").slideToggle(),x(".prague-header").toggleClass("open-menu"),x("body, html").toggleClass("no-scroll"),window.enable_foxlazy&&x(window).trigger("load"),e.preventDefault()}),x(".prague-header.full .menu-item-has-children").each(function(){var e=x(this),t=e.find("> .sub-menu");/#/.test(e.find("> a")[0].href)||t.prepend(e.find("> a").clone().addClass("clone-menu-item")),e.find("> a").on("click",function(){return!1})});var d,r=0;function l(e){var t=x(".sub-menu.active").length;"toRight"==e?r--:r++,r<0&&(r=0),t<=r&&(r=t),x(".prague-header.full nav").css("transform","translateX(-"+100*r+"%)"),0<r?x(".prague-header-form").addClass("hidyy"):x(".prague-header-form").removeClass("hidyy")}if(x(".prague-header.full .main-menu a").on("click",function(e){if(x(this).hasClass("clone-menu-item"))return!0;x(".sub-menu").removeClass("active"),x(this).closest(".sub-menu").addClass("active"),x(this).next("ul").addClass("active"),l()}),x(".prague-navigation").length){var c=new Hammer(x(".prague-navigation-inner")[0],{});c.on("swipeleft",function(e){l()}),c.on("swiperight",function(e){l("toRight")})}function u(e,t){if(!e)return!1;var a,i,s,n,r;x(e).each(function(){r=x(this),s=r.data("s-hidden"),n=r.data("s-sibling"),a=(a=r.closest(t)).length?a:r.parent(),n?(a.addClass("s-back-sibling-switch"),(i=(i=r.next()).length?i:r.next()).css("background-image","url("+this.src+")").addClass("s-sibling-switch")):a.css("background-image","url("+this.src+")").addClass("s-back-switch"),s?r.css("visibility","hidden"):r.hide()})}function p(e){x(e).outerHeight(I)}function h(){var e,t=x(".prague-header").outerHeight()||0,a=x(".prague-footer").not(".prague-footer.modern").outerHeight()||0,i=x(window).height();e=x("#wpadminbar").length?t+x("#wpadminbar").outerHeight():t,x(".full-height-window").css("height",i+"px"),x(".full-height-window-min-hard").css("min-height",i-e+"px"),x(".full-height-window-hard").css("height",i-e+"px"),x(".full-height-window-head-foot").css("height",i-e-a+"px"),x(".middle-height-window-hard").css("height",.8*(i-e)+"px")}function f(){var e=x(".a-btn.creative, .a-btn-2.creative").not(".anima");if(e.length)for(var t=0;t<e.length;t++)x(window).scrollTop()>=x(e[t]).offset().top-.9*x(window).height()&&x(e[t]).addClass("anima")}function g(){var e=x(".trans_figures.enable_anima").not(".animation");if(e.length)for(var t=0;t<e.length;t++)x(window).scrollTop()>=x(e[t]).offset().top-.9*x(window).height()&&x(e[t]).addClass("animation")}function v(){var e=x(".testimonials-wrapper"),t=e.find(".testimonials-swiper"),a=e.find(".testimonials-item"),i=0;a.each(function(){a=parseInt(x(this).innerHeight()),i<a&&(i=a)}),t.css("height",i)}function w(e,t,a){var i,s,n,r,o,l=(i=t,s=Date.parse(i)-Date.parse(new Date),n=Math.floor(s/1e3%60),r=Math.floor(s/1e3/60%60),o=Math.floor(s/36e5%24),{total:s,days:Math.floor(s/864e5),hours:o,minutes:r,seconds:n});a&&(l.days=l.days<0?0:l.days,e.find(".count-days").text(l.days)),(a||59===l.minutes)&&(l.hours=l.hours<0?0:l.hours,e.find(".count-hours").text(("0"+l.hours).slice(-2))),(a||59===l.seconds)&&(l.minutes=l.minutes<0?0:l.minutes,e.find(".count-mins").text(("0"+l.minutes).slice(-2))),l.seconds=l.seconds<0?0:l.seconds,e.find(".count-secs").text(("0"+l.seconds).slice(-2)),l.total<=0&&clearInterval(d)}(x(".top-banner .top-banner-cursor").on("click",function(e){x("html, body").animate({scrollTop:x(".top-banner").height()+x(".top-banner").offset().top},600)}),window.onYouTubeIframeAPIReady=function(){var a,i=[],e=[];x("iframe").each(function(t){a=x(this),e=a.closest(".js-video-wrapper"),i[t]=new YT.Player(this,{events:{onReady:function(e){"on"==a.data("mute")&&e.target.mute()}}}),e.find(".js-play-button").on("click",function(){event.preventDefault();var e=x(this);e.hasClass("start")?(i[t].pauseVideo(),e.removeClass("start")):(i[t].playVideo(),e.addClass("start").closest(".js-video-wrapper").addClass("play"))}),e.find(".js-video-close").on("click",function(){event.preventDefault();var e=x(this);i[t].stopVideo(),e.closest(".js-video-wrapper").removeClass("play").find(".js-play-button").removeClass("start")})})},x(".prague-coming-time-wrapper").length)&&x(".prague-coming-time-wrapper").each(function(){var e=x(this),t=e.attr("data-end"),a=e.find(".coming-time-item");w(a,t,!0),d=setInterval(function(){w(a,t)},1e3)});var b=document.querySelectorAll(".prague-dropdown");function y(){x(this).toggleClass("active"),x(".filter-nav").find("i").toggleClass("fa-filter fa-times"),x(".prague_filter_projects").slideToggle(),x(".prague-header").toggleClass("open-filter"),x("body, html").toggleClass("no-scroll")}Array.prototype.slice.call(b,0).forEach(function(e){var t=e.querySelector('a[data-toggle="dropdown"]'),a=e.querySelector(".prague-dropdown-menu"),i=t.querySelector("i.icon-arrow");t.onclick=function(e){a.hasClass("showee")?(x(this).removeClass("active"),a.classList.remove("showee"),a.classList.add("hidee"),i.classList.remove("openee"),i.classList.add("closee")):(x(this).addClass("active"),a.classList.add("showee"),a.classList.remove("hidee"),i.classList.add("openee"),i.classList.remove("closee")),e.preventDefault()}}),Element.prototype.hasClass=function(e){return this.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(this.className)},x(".filmstrip-filter .prague-dropdown-menu li").on("click",function(e){var t="."+x(this).attr("data-filter");x(".filmstrip-slider").slick("slickUnfilter"),x(".filmstrip-slider").slick("slickFilter",t),x('.prague-dropdown a[data-toggle="dropdown"]').removeClass("active"),x(".prague-dropdown-menu").removeClass("showee"),x(".prague-dropdown-menu").addClass("hidee"),x(".prague-dropdown i.icon-arrow").removeClass("openee"),x(".prague-dropdown i.icon-arrow").addClass("closee"),e.preventDefault()}),x(".filter-nav").on("click",function(e){y(),e.preventDefault()}),x(".prague_filter_projects .prague_filter_item li").on("click",function(e){x(this).toggleClass("active"),e.preventDefault()}),x(".prague_filter_link_wrapper .filter-btn").on("click",function(e){var t=[];x(".prague_filter_projects [data-filter].active").each(function(e){t[e]="."+x(this).attr("data-filter")});var a=",";"all_criteria"==x(this).attr("data-filtering-type")&&(a=""),x(".prague_services, .prague_books, .prague_exhibition_grid, .prague_grid, .prague_masonry").isotope({filter:t.join(a)}),setTimeout(function(){y()},100),e.preventDefault()}),x(".filter-clear-all").on("click",function(e){x(".prague_filter_projects .prague_filter_item li").removeClass("active"),e.preventDefault()}),x(".project-time-list-header .time-list-header-col span").on("click",function(e){x(this).parent(".time-list-header-col").addClass("active").siblings().removeClass("active");var t=x(this).parent(".time-list-header-col").attr("data-sort");x(".prague_timeline_list").isotope({sortBy:t}),e.preventDefault()}),x(".prague_timeline .project-timeline-item").on("click",function(e){e.preventDefault();var t=x(this),a=t.position().top,i=x(".timeline-img-item[data-unique-key="+t.data("post-key")+"]"),s=i.height(),n=x(".project-timeline-img-wrapper"),r=n.height(),o=n.scrollTop()+i.position().top;o=r-a<s?o-r+s-45:o-a+15,n.animate({scrollTop:o},500),x(".timeline-img-item").removeClass("active"),x(".project-timeline-item").removeClass("active"),t.addClass("active"),i.addClass("active")}),x(".prague_timeline .project-timeline-item .time-item-link").on("click",function(e){x(".prague_timeline .project-timeline-item").off("click")}),x(".timeline-img-item").on("mouseenter",function(){var e=x(this).attr("data-unique-key");x(".project-timeline-item").removeClass("active_hover"),x(".project-timeline-item[data-post-key="+e+"]").addClass("active_hover")}),x(".timeline-img-item").on("mouseleave",function(){x(".project-timeline-item").removeClass("active_hover")});var C=".timeline-exh-nav-list li a",j="active",S={},D=window.location.hash;if(window.setContentTopObject=function(){S={},x(C).each(function(){if(this.hash&&x(this.hash).length){x(this).attr("data-id",this.hash);var e=x(this.hash),t=e.offset().top;S[this.hash]={top:Math.round(t-0),bottom:Math.round(t-0+e.outerHeight())}}})},x(C).on("click",function(e){if(e.preventDefault(),!this.hash&&!x(this.hash).length)return!0;x(".prague_exhibition_timeline").offset().top<x(window).scrollTop()?x(".project-timeline-exh-nav").css({position:"fixed",top:0}).addClass("fxd"):x(".project-timeline-exh-nav").css("position","absolute").removeClass("fxd"),function(e,t){if(e&&x(e.hash).length){1;var a=e.hash;a=x('[data-id="'+a+'"]').position().top,x("html, body").stop().animate({scrollTop:a},t,function(){history.pushState?history.pushState(null,null,a):location.hash=a,D=a,0,x(C).removeClass(j),x(C+'[data-id="'+D+'"]').addClass(j)})}}(this,1e3)}),x(".project-detail-full-overlay .icon").on("click",function(){x(".project-detail-full-overlay").toggleClass("open"),x(".project-detail-full-thumb").toggleClass("open"),x(".project-detail-fullscreen-content").toggleClass("open"),x(".prague-header").toggleClass("open-detail")}),x(".prague-categories-outer").length){var A=x(".prague-categories-outer");x(A).each(function(){var e=x(this);x(e).prev(".prague-categories-outer").length||x(e).find(".categories_btn_up").addClass("hide"),x(e).next(".prague-categories-outer").length||x(e).find(".categories_btn_down").addClass("hide")})}x(".prague_categories_btn .categories_btn_up").on("click",function(){var e=x(this).closest(".prague-categories-outer").prev(".prague-categories-outer").offset().top;x("html, body").animate({scrollTop:e},1e3)}),x(".prague_categories_btn .categories_btn_down").on("click",function(){var e=x(this).closest(".prague-categories-outer").next(".prague-categories-outer").offset().top;x("html, body").animate({scrollTop:e},1e3)});var M={selector:".js-detail-parallax-item-bg",covers:x([]),amount:0,initialized:!1,start:0,stop:0,initialize:function(){var C=this;x(".project-detail-parallax-item").each(function(e,t){var a=x(t),i=a.children(".detail-parallax-item-bg"),s=i.find("img");if(a.find(".detail-parallax-item-bg").show(),s.length||(s=i.children("picture").children("img")),s.length){var n,r,o,l=s.css("width","auto").outerWidth(),d=s.outerHeight(),c=I,p=k/l;n=I/d,r=Math.max(p,n),o=parseInt(l*r),s.css({top:(c-d*r)/2,width:o}),a.css({height:c})}}),e?x(".project-detail-parallax").addClass("touch"):(_=x(document).height(),this.amount=x(".project-detail-parallax").data("parallax-speed"),this.initialized=!0,x(".project-detail-parallax-cover").empty(),x(".js-detail-parallax-item-bg").each(function(e,t){var a,i,s,n,r=x(t),o=(r.css("opacity"),r.children().not("span")),l=o.filter("img"),d=(o.not("img"),r.clone()),c=d.children().not("span"),p=c.filter("img"),u=(c.not("img"),l.outerWidth()),h=l.outerHeight(),f=r.parent(),g=I,m=f.offset(),v=parseInt(T.css("marginTop")),w=C.amount;r.removeAttr("style"),d.data("source",r).appendTo(".project-detail-parallax-cover").show(),d.css("height",g),"undefined"!=typeof parallax_speeds&&x.each({static:0,slow:.25,medium:.5,fast:.75,fixed:1},function(e,t){void 0!==parallax_speeds[e]&&f.is(parallax_speeds[e])&&(w=t)}),a=k/u,i=(g+(I-g)*w)/h,s=Math.max(a,i),n=parseInt(u*s),p.css({width:n,top:(g-h*s)/2}),TweenMax.to(d,0,{y:m.top-v});var b={start:m.top-I,end:m.top+I,timeline:new TimelineMax({paused:!0})},y={start:0,end:_,timeline:new TimelineMax({paused:!0})};b.timeline.fromTo(c,1,{y:"-="+(I+g)*w/2},{y:"+="+(I+g)*w,ease:Linear.easeNone,force3D:!0}),y.timeline.fromTo(d,1,{y:m.top},{y:m.top-_,ease:Linear.easeNone,force3D:!0}),d.data("parallax",b).data("parallax2",y),C.update()}))},update:function(){e||x(".project-detail-parallax-cover .detail-parallax-item-bg").each(function(e,t){var a=x(t),i=a.data("parallax"),s=a.data("parallax2"),n=(o-i.start)/(i.end-i.start),r=(o-s.start)/(s.end-s.start);0<=n&&n<=1&&i.timeline.progress(n),0<=r&&r<=1&&s.timeline.progress(r)})}};function q(){x(".services.tile").length&&x(".services.tile .item-first").each(function(){var e=x(this).height(),t=x(this).next(".item-second"),a=t.find(".text-wrap").outerHeight();991<x(window).width()?t.find(".img-wrap").css("height",e-a-30+"px"):t.find(".img-wrap").css("height","auto")})}x("[data-share]").on("click",function(){var e=window,t=this.getAttribute("data-share"),a=e.screenLeft?e.screenLeft:screen.left,i=e.screenTop?e.screenTop:screen.top,s=e.innerWidth/2-300+a,n=e.innerHeight/2-300+i,r=e.open(t,"","scrollbars=yes, width=600, height=600, top="+n+", left="+s);return e.focus&&r.focus(),!1}),x(".js-load-more-btn").on("click",function(e){var s=x(this),n=s.html();s.html("LOADING...");var r=s.closest("[data-unique-key]"),o=r.data("unique-key"),l=r.find(".js-load-more-block"),d=parseInt(r.attr("data-start-page")),c=parseInt(r.attr("data-max-page")),p=r.attr("data-next-link");return d<=c&&x.ajax({url:p,type:"POST",success:function(e){var t=x(e).find('[data-unique-key="'+o+'"]').find(".js-load-more-block").children(".js-filter-simple-block"),a=x(t);window.enable_foxlazy&&setTimeout(function(){x("img").foxlazy(),x(window).trigger("load.foxlazy")},500),l.hasClass("prague-blog-grif-outer")||l.hasClass("prague_blog")?(l.append(a),u(".s-img-switch")):(console.log("here"),setTimeout(function(){l.append(a),l.isotope("appended",a),u(".s-img-switch")},500)),s.html(n),r.attr("data-start-page",++d);var i=function(e){var t=0,a=e,i=e.split("").reverse().join("");i=i.split("");for(var s=0;s<i.length&&!isNaN(i[s]);s++)t++;return a=a.slice(0,-t)}(p=p.replace(/\/$/,""));p=i+(d+1),r.attr("data-next-link",p),d==c&&s.hide("fast")}}),!1}),x(".woocommerce-product-gallery .flex-control-thumbs li").on("click",function(){setTimeout(function(){x(".flex-viewport").css("height",x(".woocommerce-product-gallery .flex-active-slide img").height())},100)}),t(function(){var e,t;u(".s-img-switch"),function(){if(x(".page-calculate.fullheight").length){var e=x(".page-calculate.fullheight"),t=x(".page-calculate.fullheight .page-calculate-content").outerHeight(!0);I<t?e.css("height",t):e.css("height",I)}}(),p(".prague_filmstrip"),p(".projects-detail-before-banner.fullheight"),p(".project-detail-fullscreen"),e=x(".top-banner.fullheight"),x(".top-banner.fullheight .content"),"100vh"<(t=x(".top-banner.fullheight .content").outerHeight(!0))?e.css("min-height",t):e.css("min-height","100vh"),x(".js-video-wrapper").each(function(){var e,t,a=x(this).find("video,iframe"),i=a.width(),s=a.outerHeight(),n=(i/s).toFixed(2),r=parseInt(x(this).width()),o=parseInt(x(this).outerHeight()),l=r/i,d=o/s;a.removeAttr("height").removeAttr("width"),d<l?(e=r,t=Math.ceil(e/n)):(t=o,e=Math.ceil(t*n)),r<e&&(e=r),a.width(e+"px").height(t+"px"),o<t?a.css("top",-(t-o)/2):a.css("top","0"),r<=e?a.css("left",-(e-r)/2):a.css("left","0")}),function(){var e=x(".team-wrapper.circle");if(e.length)for(var t=0;t<e.length;t++){var a=x(e[t]).find(".team-outer"),i=a.height();a.css("width",i)}}(),x(".prague-coming-time-wrapper .coming-time-item").length&&x(".prague-coming-time-wrapper .coming-time-item").each(function(){var e=x(this).find(".name"),t=e.data("desktop"),a=e.data("mobile");k<768?e.text(a):e.text(t)}),function(){if(x(".prague_filmstrip").not("no-footer-content")){var e=x(".prague_filmstrip").height(),t=x(".filmstrip-slider"),a=x(".filmstrip-footer").innerHeight();t.height(e-a)}}(),setTimeout(function(){var e=x(".prague_timeline"),t=x(".project-timeline-content-wrapper").height();I<t+78?e.css("height",t+78):e.css("height",I)},20),M.initialize(),x(".flex-viewport").css("height",x(".woocommerce-product-gallery .flex-active-slide img").height())}),window.enable_foxlazy&&x("img").foxlazy("",function(){i&&setTimeout(function(){i.isotope("layout")},1e3),a&&a.isotope("layout")}),x(".woocommerce-tabs").on("click",".tabs-title",function(){var e=x(this).parent(".tabs-item-wrapp"),t=x(this).siblings(".panel");return 0<x(this).siblings(".panel").length&&"none"===x(this).siblings(".panel").css("display")?(x(t).slideDown(400,function(){}),x(e).addClass("active").siblings(".tabs-item-wrapp").removeClass("active").children(".panel").slideUp(400,function(){})):(x(t).slideUp(400,function(){}),x(e).removeClass("active")),!1}),x(".custom-product-quantity").length&&x("body").on("click",".custom-product-quantity .q_inc, .custom-product-quantity .q_dec",function(e){e.preventDefault();var t=x(this).parent(".custom-product-quantity").find(".qty"),a=Number(t.val());"q_inc"===this.className?a--:a++,a=1<a?a:1,t.val(a).change()}),x(document).ready(function(){x(".js-popup").magnificPopup({delegate:"a",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(e){return e.find("img")}}})}),x(".services.accordion .toggle").on("click",function(e){e.preventDefault();var t=x(this);t.next().hasClass("is-show")?(t.next().removeClass("is-show"),t.next().slideUp(350),t.find("i").removeClass("ion-minus").addClass("ion-plus")):(t.parent().parent().find("li .list-drop").removeClass("is-show"),t.parent().parent().find("li .list-drop").slideUp(350),t.next().toggleClass("is-show"),t.next().slideToggle(350),t.closest(".services.accordion").find(".toggle i").removeClass("ion-minus").addClass("ion-plus"),t.find(".ion-plus").addClass("ion-minus").removeClass("ion-plus"))}),x(window).on("load resize",function(){q(),h()}),window.addEventListener("orientationchange",function(){q(),h()})});