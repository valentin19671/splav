!function(e){function t(t,n,s){t.on("mousedown.ba-events touchstart.ba-events",function(i){t.addClass("ba-draggable"),n.addClass("ba-resizable");var a=i.pageX?i.pageX:i.originalEvent.touches[0].pageX,f=t.outerWidth(),o=t.offset().left+f-a,l=s.offset().left,d=s.outerWidth();minLeft=l+10,maxLeft=l+d-f-10,t.parents().on("mousemove.ba-events touchmove.ba-events",function(t){var n=t.pageX?t.pageX:t.originalEvent.touches[0].pageX;leftValue=n+o-f,leftValue<minLeft?leftValue=minLeft:leftValue>maxLeft&&(leftValue=maxLeft),widthValue=100*(leftValue+f/2-l)/d+"%",e(".ba-draggable").css("left",widthValue),e(".ba-resizable").css("width",widthValue)}).on("mouseup.ba-events touchend.ba-events touchcancel.ba-events",function(){t.removeClass("ba-draggable"),n.removeClass("ba-resizable"),e(this).off(".ba-events")}),i.preventDefault()})}e.fn.beforeAfter=function(){var n=this,s=n.width()+"px";n.find(".resize img").css("width",s),t(n.find(".handle"),n.find(".resize"),n),n.find(".button").on("click",function(t){e(this).hasClass("prev")?(n.find(".resize").css({width:"0",transition:"width 1s ease-in"}),n.find(".handle").css({left:"0",transition:"left 1s ease-in"})):(n.find(".resize").css({width:"100%",transition:"width 1s ease-in"}),n.find(".handle").css({left:"100%",transition:"left 1s ease-in"})),setTimeout(function(){n.find(".resize").css("transition","none"),n.find(".handle").css("transition","none")},1e3),t.preventDefault()}),e(window).resize(function(){var e=n.width()+"px";n.find(".resize img").css("width",e)})}}(jQuery);